<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Word Quest: Special Occasions</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #0f062c, #3d0a9b, #0e1b4d);
      background-size: 400% 400%;
      animation: gradientShift 8s ease infinite;
      color: white;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
    }

    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .container {
      width: 90%;
      max-width: 800px;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      text-align: center;
      color: white;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
      text-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
    }

    .question {
      font-size: 1.5rem;
      margin: 20px 0;
      font-weight: 600;
    }

    .options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin: 20px 0;
    }

    .option {
      padding: 15px;
      background: rgba(255, 255, 255, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 1.1rem;
      text-align: center;
    }

    .option:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.02);
    }

    .option.correct {
      background: rgba(100, 255, 100, 0.5);
      border-color: green;
    }

    .option.incorrect {
      background: rgba(255, 100, 100, 0.5);
      border-color: red;
    }

    .result {
      margin-top: 20px;
      font-size: 1.5rem;
      font-weight: bold;
      opacity: 0;
      transition: opacity 0.5s;
    }

    .result.show {
      opacity: 1;
    }

    .stats {
      margin-top: 30px;
      font-size: 1.3rem;
      line-height: 1.8;
      background: rgba(0, 0, 0, 0.3);
      padding: 20px;
      border-radius: 15px;
      display: none;
    }

    .stats.show {
      display: block;
      animation: fadeIn 0.8s;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    button {
      margin-top: 20px;
      padding: 12px 25px;
      background: #ff6b6b;
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.1rem;
      transition: 0.3s;
    }

    button:hover {
      background: #ff5252;
    }

    .progress {
      margin: 20px 0;
      font-size: 1rem;
    }

    .final-message {
      font-size: 1.6rem;
      font-weight: bold;
      margin: 20px 0;
      color: #ffd700;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>üéØ Word Quest: Special Occasions</h1>
  <div class="progress">–í–æ–ø—Ä–æ—Å: <span id="current"></span> / <span id="total"></span></div>
  <div class="question" id="question"></div>
  <div class="options" id="options"></div>
  <div class="result" id="result"></div>
  <div class="final-message" id="final-message"></div>
  <div class="stats" id="stats"></div>
  <button id="next-btn" onclick="nextQuestion()">–î–∞–ª–µ–µ</button>
  <button id="restart-btn" style="display:none;" onclick="location.reload()">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
</div>

<script>
  // –í—Å–µ —Å–ª–æ–≤–∞ –∏–∑ "Special Occasions" ‚Äî –ø–æ –ø–æ—Ä—è–¥–∫—É
  const words = [
    { en: "all the best", ru: "–≤—Å–µ–≥–æ —Ö–æ—Ä–æ—à–µ–≥–æ" },
    { en: "band", ru: "–≥—Ä—É–ø–ø–∞ (–º—É–∑—ã–∫–∞–ª—å–Ω–∞—è)" },
    { en: "base", ru: "–æ—Å–Ω–æ–≤—ã–≤–∞—Ç—å –Ω–∞ —á–µ–º-–ª–∏–±–æ" },
    { en: "blow out candles", ru: "–∑–∞–¥—É—Ç—å —Å–≤–µ—á–∏" },
    { en: "budget", ru: "–±—é–¥–∂–µ—Ç" },
    { en: "can't stand", ru: "–∏—Å–ø—ã—Ç—ã–≤–∞—Ç—å —Å–∏–ª—å–Ω—É—é –Ω–µ–ø—Ä–∏—è–∑–Ω—å" },
    { en: "casual", ru: "–ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã–π, –ø—Ä–æ—Å—Ç–æ–π" },
    { en: "clown", ru: "–∫–ª–æ—É–Ω" },
    { en: "coming-of-age", ru: "–¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–∏—è" },
    { en: "congratulations", ru: "–ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è" },
    { en: "decorate a tree", ru: "–Ω–∞—Ä—è–¥–∏—Ç—å, —É–∫—Ä–∞—Å–∏—Ç—å –¥–µ—Ä–µ–≤–æ" },
    { en: "depend on", ru: "–∑–∞–≤–∏—Å–∏—Ç –æ—Ç" },
    { en: "eat a special meal", ru: "—Å—ä–µ—Å—Ç—å –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ –±–ª—é–¥–æ" },
    { en: "enthusiastic", ru: "–ø—Ä–æ–Ω–∏–∑–∞–Ω–Ω—ã–π —ç–Ω—Ç—É–∑–∏–∞–∑–º–æ–º" },
    { en: "exchange a gift/card", ru: "–æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –ø–æ–¥–∞—Ä–∫–∞–º–∏/–ø–æ–∑–¥—Ä–∞–≤–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ—Ç–∫—Ä—ã—Ç–∫–∞–º–∏" },
    { en: "excited", ru: "–≤–∑–≤–æ–ª–Ω–æ–≤–∞–Ω–Ω—ã–π" },
    { en: "flower arrangement", ru: "—Ü–≤–µ—Ç–æ—á–Ω–∞—è –∫–æ–º–ø–æ–∑–∏—Ü–∏—è" },
    { en: "formal", ru: "–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π" },
    { en: "fuss", ru: "—Å—É–µ—Ç–∞, —Å—É–º–∞—Ç–æ—Ö–∞" },
    { en: "ghost", ru: "–ø—Ä–∏–≤–∏–¥–µ–Ω–∏–µ" },
    { en: "graduation party", ru: "–≤–µ—á–µ—Ä –≤ —á–µ—Å—Ç—å –æ–∫–æ–Ω—á–∞–Ω–∏—è –∏–Ω—Å—Ç–∏—Ç—É—Ç–∞ (–≤—ã–ø—É—Å–∫–Ω–æ–π –≤–µ—á–µ—Ä)" },
    { en: "happening", ru: "—Å–ª—É—á–∞–π, –ø—Ä–æ–∏—Å—à–µ—Å—Ç–≤–∏–µ" },
    { en: "Happy anniversary!", ru: "–° –≥–æ–¥–æ–≤—â–∏–Ω–æ–π!" },
    { en: "Happy new year!", ru: "–° –Ω–æ–≤—ã–º –≥–æ–¥–æ–º!" },
    { en: "impatient", ru: "–Ω–µ—Ç–µ—Ä–ø–µ–ª–∏–≤—ã–π" },
    { en: "informal", ru: "–Ω–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π" },
    { en: "junior high", ru: "—Å—Ä–µ–¥–Ω—è—è —à–∫–æ–ª–∞ (–≤ –°–®–ê), –≤ –∫–æ—Ç–æ—Ä–æ–π –æ–±—É—á–∞—é—Ç—Å—è –¥–µ—Ç–∏ –≤ –≤–æ–∑—Ä–∞—Å—Ç–µ –æ—Ç 11 –¥–æ 15 –ª–µ—Ç" },
    { en: "limousine", ru: "–ª–∏–º—É–∑–∏–Ω" },
    { en: "make a toast", ru: "–≤—ã–ø–∏—Ç—å –∑–∞, –ø—Ä–æ–≤–æ–∑–≥–ª–∞—Å–∏—Ç—å —Ç–æ—Å—Ç –≤ —á–µ—Å—Ç—å –∫–æ–≥–æ-–ª–∏–±–æ/—á–µ–≥–æ-–ª–∏–±–æ" },
    { en: "Many happy returns", ru: "–° –¥–Ω–µ–º —Ä–æ–∂–¥–µ–Ω–∏—è" },
    { en: "mostly", ru: "–≥–ª–∞–≤–Ω—ã–º –æ–±—Ä–∞–∑–æ–º, –ø–æ –±–æ–ª—å—à–µ–π —á–∞—Å—Ç–∏" },
    { en: "plan a party", ru: "–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –≤–µ—á–µ—Ä–∏–Ω–∫—É" },
    { en: "pull a cracker", ru: "—Ä–æ–∂–¥–µ—Å—Ç–≤–µ–Ω—Å–∫–∏–π –æ–±—ã—á–∞–π –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–ø–∞–¥–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∞—Ö ‚Äî –¥–≤–æ–µ –±–µ—Ä—É—Ç –∫—Ä–µ–∫–µ—Ä (–∫—É—Å–æ—á–µ–∫ –ø–µ—á–µ–Ω—å—è), –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ –∑–∞–ª–µ—á–µ–Ω–∞ –ø–æ–¥–∞—Ä–æ–∫ (–ª–∏—Å—Ç–æ–∫ –±—É–º–∞–≥–∏ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø–æ–¥–∞—Ä–∫–∞), –∏ —Ç—è–Ω—É—Ç –∫–∞–∂–¥—ã–π –Ω–∞ —Å–µ–±—è. –¢–æ—Ç, –∫–æ–º—É –¥–æ—Å—Ç–∞–ª–∞—Å—å –±–æ–ª—å—à–∞—è –ø–æ–ª–æ–≤–∏–Ω–∞ –∫—Ä–µ–∫–µ—Ä–∞, –ø–æ–ª—É—á–∞–µ—Ç —ç—Ç–æ—Ç –ø–æ–¥–∞—Ä–æ–∫." },
    { en: "rely on", ru: "–Ω–∞–¥–µ—è—Ç—å—Å—è –Ω–∞ –∫–æ–≥–æ-–ª–∏–±–æ/—á–µ–≥–æ-–ª–∏–±–æ" },
    { en: "rest", ru: "–æ–ø–∏—Ä–∞—Ç—å—Å—è, –æ—Å–Ω–æ–≤—ã–≤–∞—Ç—å—Å—è(—Å—è)" },
    { en: "rich", ru: "–∂–∏—Ä–Ω—ã–π, –ø–∏—Ç–∞—Ç–µ–ª—å–Ω—ã–π (–æ –µ–¥–µ)" },
    { en: "season's greetings", ru: "–ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è —Å –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º" }
  ];

  let currentQuestionIndex = 0;
  let score = 0;
  let selectedOption = null;

  // –ü–æ–ª—É—á–∞–µ–º 3 –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–∞ (–±–µ–∑ —Ä–∞–Ω–¥–æ–º–∞)
  function getWrongAnswers(correctAnswer) {
    const allWrong = words.map(word => word.ru).filter(meaning => meaning !== correctAnswer);
    const startIndex = (currentQuestionIndex * 3) % allWrong.length;
    const wrongAnswers = [];
    for (let i = 0; i < 3; i++) {
      wrongAnswers.push(allWrong[(startIndex + i) % allWrong.length]);
    }
    return wrongAnswers;
  }

  function showQuestion() {
    const question = words[currentQuestionIndex];
    document.getElementById("question").textContent = `"${question.en}"`;
    const optionsContainer = document.getElementById("options");
    optionsContainer.innerHTML = "";

    const wrongAnswers = getWrongAnswers(question.ru);
    const correctPosition = currentQuestionIndex % 4; // –ü–æ–∑–∏—Ü–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞: 0, 1, 2, 3

    const finalOptions = Array(4).fill(null);
    finalOptions[correctPosition] = question.ru;

    let wrongIndex = 0;
    for (let i = 0; i < 4; i++) {
      if (finalOptions[i] === null) {
        finalOptions[i] = wrongAnswers[wrongIndex++];
      }
    }

    finalOptions.forEach(option => {
      const div = document.createElement("div");
      div.classList.add("option");
      div.textContent = option;
      div.onclick = () => selectOption(div, option, question.ru);
      optionsContainer.appendChild(div);
    });

    document.getElementById("current").textContent = currentQuestionIndex + 1;
    document.getElementById("total").textContent = words.length;
    document.getElementById("result").classList.remove("show");
    document.getElementById("result").textContent = "";
    document.getElementById("final-message").textContent = "";
  }

  function selectOption(element, answer, correctAnswer) {
    if (selectedOption) return;

    selectedOption = element;

    const resultElement = document.getElementById("result");

    if (answer === correctAnswer) {
      element.classList.add("correct");
      resultElement.textContent = "‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!";
      score++;
    } else {
      element.classList.add("incorrect");
      resultElement.textContent = `‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –ü—Ä–∞–≤–∏–ª—å–Ω–æ: "${correctAnswer}"`;
    }

    resultElement.classList.add("show");
  }

  function nextQuestion() {
    currentQuestionIndex++;
    if (currentQuestionIndex < words.length) {
      selectedOption = null;
      showQuestion();
    } else {
      showFinalStats();
    }
  }

  function showFinalStats() {
    const total = words.length;
    const correct = score;
    const incorrect = total - correct;
    const percent = Math.round((correct / total) * 100);

    let message = "";
    if (percent === 100) message = "üî• –ê–±—Å–æ–ª—é—Ç–Ω—ã–π —á–µ–º–ø–∏–æ–Ω! –¢—ã ‚Äî –º–∞—Å—Ç–µ—Ä —Å–ª–æ–≤!";
    else if (percent >= 80) message = "üéâ –û—Ç–ª–∏—á–Ω–æ! –¢—ã –æ—Ç–ª–∏—á–Ω–æ —Å–ø—Ä–∞–≤–∏–ª—Å—è!";
    else if (percent >= 60) message = "üëç –•–æ—Ä–æ—à–æ! –ü—Ä–æ–¥–æ–ª–∂–∞–π –≤ —Ç–æ–º –∂–µ –¥—É—Ö–µ!";
    else message = "üí™ –ù–µ —Å–¥–∞–≤–∞–π—Å—è! –ü–æ–≤—Ç–æ—Ä–∏ –∏ —Å—Ç–∞–Ω–µ—à—å —Å–∏–ª—å–Ω–µ–µ!";

    document.getElementById("final-message").textContent = message;

    const stats = document.getElementById("stats");
    stats.innerHTML = `
      <p>‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: <strong>${correct}</strong></p>
      <p>‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤: <strong>${incorrect}</strong></p>
      <p>üìä –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: <strong>${percent}%</strong></p>
      <p>üéØ –í—Å–µ–≥–æ —Å–ª–æ–≤: <strong>${total}</strong></p>
    `;
    stats.classList.add("show");

    document.getElementById("next-btn").style.display = "none";
    document.getElementById("restart-btn").style.display = "inline-block";
  }

  window.onload = () => {
    showQuestion();
  };
</script>

</body>
</html>

